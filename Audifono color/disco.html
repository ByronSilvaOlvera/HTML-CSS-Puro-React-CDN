<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="main.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
  />
</head>
<body>
	<div class="container-disco" >
		<div>
			<div id="dico-f" class="headsetFondo ">		
				<i id="headfn" class="fas fa-compact-disc"></i>
			</div>
		</div>
	</div>
</body>
<script>

	// setInterval( ()=> { 
	// 	const el = document.querySelector('.headsetFondo');
	// 	el.classList.add('animate__animated', 'animate__rotateOutUpLeft')
	// 	setTimeout( () =>{ 
	// 			el.classList.remove('animate__rotateOutUpLeft')				
	// 			el.classList.add('animate__rotateInDownRight');
	// 		}, 2000);
	// }, 3000);

	// setInterval( ()=> { 
	// 	const el = document.querySelector('.headsetFondo');
	// 	el.classList.add('animate__animated', 'animate__fadeInTopLeft')
	// 	setTimeout( () =>{ 
	// 			el.classList.remove('animate__fadeInTopLeft')				
	// 			el.classList.add('animate__fadeOutBottomRight');
	// 		}, 2000);
	// }, 3000);

	function colocarDisco (inValue, outValue, elemento){
		return new Promise ( (resolve, reject) =>{
			setInterval( ()=> { 
			const el = document.querySelector(`.${elemento}`);
			el.classList.add('animate__animated', `${outValue}`)
			setTimeout( () =>{ 
					el.classList.remove(`${outValue}`)				
					el.classList.add(`${inValue}`);
				}, 2000);
			cambioColor('headfn');				
			}, 7000);
			reject();	
		})

	}

	function cambioColor(elemento){
		let el = document.querySelector(`#${elemento}`);
		console.log(el);
		let n = Math.floor(Math.random() * 14);		
		console.log(n);
		n === 13? el.style['box-shadow'] = `0px 20px 5px ${color[n]}` : el.style['box-shadow'] = `0px 20px 5px ${color[n + 1]}`;
		el.style.color = color[n];

	}


	async function dobleEfecto(){

		// await colocarDisco('animate__zoomOutDown','animate__zoomOutUp',`headsetFondo`);
		await colocarDisco('animate__rotateInDownRight','animate__rotateOutUpLeft',`headsetFondo`);
	}

	dobleEfecto();

	const color =[
		'#e0f2f1',
		'#b2dfdb',
		'#80cbc4',
		'#4db6ac',
		'#26a69a',
		'#009688',
		'#00897b',
		'#00796b',
		'#00695c',		
		'#a7ffeb',
		'#64ffda',
		'#1de9b6',
		'#00bfa5'	
	]


</script>
</html>